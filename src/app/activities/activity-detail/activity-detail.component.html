<div *ngIf="activity; else loading" class="card">
  <!-- <div class="card-header text-muted">By {{ activity.time_type }}</div> -->
  <img class="card-img" src="{{ activity.image_url }}" alt="Activity image">
  <div class="card-img-overlay text-white">
    <h2 class="card-title">{{ activity.title }}</h2>
    <h6 class="card-subtitle mb-2 text-muted">{{ activity.subtitle }}</h6>
  </div>
  <div class="card-body">
    <p *ngIf="activity.details" class="card-text">{{ activity.details }}</p>

    <div>
      <div *ngIf="activity.prices.length >= 1; else noPrices">
        <div *ngIf="activity.prices.length === 1">
          Price: {{ activity.prices[0].amount | currency }}
          <span *ngIf="activity.prices[0].options"> ({{ activity.prices[0].options }})</span>
        </div>
        <div *ngIf="activity.prices.length > 1 && !activityIsInCart()">
          <p>Available prices (please select one):</p>

          <div *ngFor="let price of activity.prices; let idx = index">
            <div class="radio">
              <input
                class="form-check-input"
                type="radio"
                name="price.id"
                id="{{ price.id }}"
                [checked]="idx === 0"
                [value]="price.id"
                (change)="onSelectionChange(price)">

              <label class="form-check-label" for="{{ price.id }}">
                {{ price.amount | currency }}
                <span *ngIf="price.options"> ({{ price.options }})</span>
              </label>
            </div>
          </div>
        </div>
      </div>
      <ng-template #noPrices>
        Coming soon
      </ng-template>
    </div>
  </div>

  <ul class="list-group list-group-flush">
    <li class="list-group-item">Duration: {{ activity.duration }}h</li>
    <li class="list-group-item" *ngIf="activity.transfer_provided">Transfer is provided</li>
    <li class="list-group-item" *ngIf="activity.guide_provided">Guide is provided</li>
  </ul>

  <app-modify-cart-button
    [activity]="activity"
    [selectedPrice]="selectedPrice"
    *ngIf="canRequestQuotation()">
  </app-modify-cart-button>

</div>

<ng-template #loading>
  <h2 class="text-center">Loading activity...</h2>
</ng-template>
